run_name: gpt-3b
platform: r1z1
gpu_type: a100_80gb
gpu_num: 8
image: mosaicml/examples:llm-latest
optimization_level: 0
# Easy setup of dependencies and execution environment
integrations:
  - integration_type: wandb
    # The Weights and Biases project name
    project: wandb-model-registry-demo
    # The username or organization the Weights and Biases project belongs to
    entity: mosaic-ml
  - integration_type: git_repo
    git_repo: mosaicml/examples
    git_branch: matthew/demo  
command: |

  cd examples

  pip install ".[llm]" -q

  pip install --ignore-installed git+https://github.com/mosaicml/composer.git@2d33b7d533045c1d9d900a6fb03b6be9aa336f1b -q

  cd examples/llm

  composer main.py yamls/mosaic_gpt/3b.yaml --seed 42